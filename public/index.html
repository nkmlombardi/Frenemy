<!DOCTYPE html>
<html ng-app="app">
<head>
    <title>Frenemy Proof of Concept</title>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.css">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
</head>
<body>
    <div class="panel" ng-controller="MainController">
        <div class="panel-info">
            <div class="section" ng-show="client.game.current.state != 'STARTED'">
                <h2>Actions</h2>
                <ul>
                    <li ng-show="client.game.name == 'Lobby'" ng-click="createGame()">Create Game</li>
                    <li ng-show="client.game.name != 'Lobby'" ng-click="startGame()">Start Game</li>
                </ul>
            </div>

            <div class="section" ng-show="client.game.current.state != 'STARTED'">
                <h2>Game List</h2>
                <ul>
                    <li ng-repeat="game in games"
                        ng-click="joinGame(game.id)"
                        ng-class="{ 'self' : game.id == client.game.id }">{{ game.name }}</li>
                </ul>
            </div>

            <div class="section">
                <h2>Player List</h2>
                <ul class="players">
                    <li ng-repeat="player in players" 
                        ng-click="sendVote(player.id)"
                        ng-class="{ 'self' : player.id == client.player.id, 'voted' : player.id == client.vote }">{{ player.name }}</li>
                </ul>
            </div>

            <div class="section" ng-show="client.game.current.losers.length != 0">
                <h2>Losers</h2>
                <ul class="players">
                    <li ng-repeat="loser in client.game.current.losers"
                        ng-class="{ 'self' : loser.id == client.player.id }">{{ loser.name }}</li>
                </ul>
            </div>
        </div>

        <div class="panel-chat">
            <ul class="messages" id="conversation">
                <!-- If we wanted backgrounds matching player names:
                    <li ng-repeat="message in messages" style="background: {{ message.player }}">
                -->
                <li ng-repeat="message in messages">
                    <div class="player">{{ message.player }}</div>
                    <div class="message">{{ message.content }}</div>
                </li>
            </ul>
            <form class="actions" ng-submit="sendChat()">
                <input ng-model="message" class="chat" />
                <input id="chat-submit" class="send" type="button" ng-click="sendChat()" value="Send" />
            </form>
        </div>
    </div>

    <!-- Library Imports -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0-rc.2/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>

    <!-- Application Logic -->
    <script src="assets/js/controller.js"></script>
</body>
</html>
